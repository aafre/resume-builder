const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotFound-B0m5iaQ3.js","assets/index-DgUKgk1k.js","assets/index-B46MRfdh.css","assets/ErrorPage-CBulQK1d.js"])))=>i.map(i=>d[i]);
import{r as e,j as t,M as a,a as s,b as r,c as l,u as i,d as o,F as n,_ as d,z as c}from"./index-DgUKgk1k.js";import{f as m}from"./templates-Deg9zX4d.js";function x({title:t,titleId:a,...s},r){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},s),t?e.createElement("title",{id:a},t):null,e.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const u=e.forwardRef(x),p=({isOpen:i,onClose:o,onSelectEmpty:n,onSelectExample:d,templateName:c})=>{const[m,x]=e.useState(null),u=e.useRef(null);if(e.useEffect(()=>{i||x(null)},[i]),e.useEffect(()=>{i&&u.current&&u.current.focus()},[i]),!i)return null;const p=()=>{"empty"===m?n():"example"===m&&d()};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"template-start-title",onKeyDown:e=>{"Escape"===e.key?o():"Enter"===e.key&&m?p():"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||x(e=>"empty"===e?"example":"empty")},tabIndex:-1,children:t.jsxs("div",{ref:u,className:"bg-white p-6 sm:p-8 rounded-lg max-w-3xl w-full shadow-2xl relative",tabIndex:-1,children:[t.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100","aria-label":"Close modal",children:t.jsx(a,{className:"text-2xl"})}),t.jsx("h2",{id:"template-start-title",className:"text-2xl sm:text-3xl font-bold mb-2 text-gray-900",children:"How would you like to start?"}),t.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:["Choose how to initialize your ",t.jsx("span",{className:"font-semibold",children:c})," resume"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-6",children:[t.jsxs("button",{onClick:()=>x("empty"),className:"group relative p-5 sm:p-6 border-2 rounded-xl transition-all duration-200 text-left bg-gradient-to-br from-green-50 to-white "+("empty"===m?"border-green-400 shadow-[0_0_20px_rgba(34,197,94,0.3)] scale-[1.02]":"border-green-300 hover:border-green-500 hover:shadow-lg hover:scale-[1.02]"),"aria-pressed":"empty"===m,"aria-label":"Start from scratch with empty structure",children:[t.jsxs("div",{className:"absolute top-2 left-2 sm:top-3 sm:left-3 bg-green-500 text-white text-[10px] sm:text-xs font-semibold px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full flex items-center gap-0.5 sm:gap-1",children:[t.jsx(s,{className:"text-xs"}),"Recommended"]}),"empty"===m&&t.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 bg-green-600 text-white p-1.5 rounded-full shadow-md",children:t.jsx(s,{className:"text-xl"})}),t.jsxs("div",{className:"flex items-start gap-4 mt-6 sm:mt-7",children:[t.jsx("div",{className:"p-3 bg-green-100 rounded-lg group-hover:bg-green-200 transition-colors",children:t.jsx(r,{className:"text-3xl text-green-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-bold text-lg sm:text-xl mb-2 text-gray-900",children:"Start from Scratch"}),t.jsx("p",{className:"text-sm text-gray-600",children:"• Clean slate • Full control"})]})]})]}),t.jsxs("button",{onClick:()=>x("example"),className:"group relative p-5 sm:p-6 border-2 rounded-xl transition-all duration-200 text-left bg-white "+("example"===m?"border-blue-400 shadow-lg scale-[1.02]":"border-gray-200 hover:border-blue-400 hover:shadow-lg hover:scale-[1.02]"),"aria-pressed":"example"===m,"aria-label":"Use example content to see template preview",children:["example"===m&&t.jsx("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 bg-green-600 text-white p-1.5 rounded-full shadow-md",children:t.jsx(s,{className:"text-xl"})}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:t.jsx(l,{className:"text-3xl text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-bold text-lg sm:text-xl mb-2 text-gray-900",children:"Use Example Content"}),t.jsx("p",{className:"text-sm text-gray-600",children:"• Pre-written text • Layout preview"})]})]})]})]}),t.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold px-6 py-3 rounded-lg transition-all hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:from-gray-400 disabled:to-gray-400",onClick:p,disabled:!m,children:m?"Start Building":"Select an option to continue"})]})})},h=e.lazy(()=>d(()=>import("./NotFound-B0m5iaQ3.js"),__vite__mapDeps([0,1,2]))),g=e.lazy(()=>d(()=>import("./ErrorPage-CBulQK1d.js"),__vite__mapDeps([3,1,2]))),b=()=>t.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),f=()=>{var a;const[s,r]=e.useState([]),[l,d]=e.useState(null),[x,f]=e.useState(!0),[j,y]=e.useState(null),[v,w]=e.useState(!1),[N,S]=e.useState(!1),[E,_]=e.useState(null),k=i(),{session:C}=o();e.useEffect(()=>{(async()=>{try{f(!0);const e=await m();r(e),d(e[0]||null)}catch(e){y("Failed to load templates. Please try again later.")}finally{f(!1)}})()},[]);return x?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Loading beautiful templates..."})]})}):j?t.jsx(e.Suspense,{fallback:t.jsx(b,{}),children:t.jsx(g,{})}):0===s.length?t.jsx(e.Suspense,{fallback:t.jsx(b,{}),children:t.jsx(h,{})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[t.jsxs("div",{className:"text-center py-16 px-4",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-indigo-600 to-blue-800 mb-6",children:"Choose Your Perfect Template"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Select a professional template that matches your style and industry"})]}),t.jsx("div",{className:"container mx-auto max-w-6xl px-4 pb-20",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12",children:s.map(e=>{const a=(null==l?void 0:l.id)===e.id;return t.jsx("div",{className:"group cursor-pointer transition-all duration-300 "+(a?"scale-[1.02]":"hover:scale-[1.02]"),onClick:()=>(e=>{d(e)})(e),children:t.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border-2 "+(a?"border-blue-500 ring-4 ring-blue-200/50":"border-gray-200 hover:border-blue-300"),children:[t.jsxs("div",{className:"relative overflow-hidden bg-gray-50",children:[t.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-96 sm:h-[500px] object-contain p-4 group-hover:scale-105 transition-transform duration-500"}),a&&t.jsx("div",{className:"absolute top-6 right-6 bg-blue-600 text-white p-3 rounded-full shadow-xl",children:t.jsx(u,{className:"w-7 h-7"})}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300 flex items-end",children:t.jsx("div",{className:"w-full p-6 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("p",{className:"text-white text-sm font-medium",children:"Click to preview details"})})})]}),t.jsxs("div",{className:"p-6 lg:p-8",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors",children:e.name}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]})}),t.jsx("div",{className:"flex gap-3",children:a?t.jsx(t.Fragment,{children:t.jsx("button",{className:"flex-1 inline-flex items-center justify-center bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",onClick:t=>{var a;t.stopPropagation(),a=e.id,C?(_(a),S(!0)):c.error("Please sign in to create a resume")},disabled:v,children:v?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating..."]}):t.jsxs(t.Fragment,{children:["Start Building Resume",t.jsx(n,{className:"w-5 h-5 ml-2"})]})})}):t.jsx("button",{className:"btn-primary w-full py-4 px-6",children:t.jsx("span",{className:"relative z-10",children:"Select This Template"})})})]})]})},e.id)})})}),t.jsx(p,{isOpen:N,onClose:()=>S(!1),onSelectEmpty:async()=>{if(E&&C)try{w(!0),S(!1);const e=await fetch("/api/resumes/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C.access_token}`},body:JSON.stringify({template_id:E,load_example:!1})}),t=await e.json();if(!e.ok){if("RESUME_LIMIT_REACHED"===t.error_code)return c.error("Resume limit reached (5/5). Please delete a resume to create a new one."),void k("/my-resumes");throw new Error(t.error||"Failed to create resume")}c.success("Resume created! Starting editor..."),k(`/editor/${t.resume_id}`)}catch(e){c.error("Failed to create resume. Please try again.")}finally{w(!1)}},onSelectExample:async()=>{if(E&&C)try{w(!0),S(!1);const e=await fetch("/api/resumes/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C.access_token}`},body:JSON.stringify({template_id:E,load_example:!0})}),t=await e.json();if(!e.ok){if("RESUME_LIMIT_REACHED"===t.error_code)return c.error("Resume limit reached (5/5). Please delete a resume to create a new one."),void k("/my-resumes");throw new Error(t.error||"Failed to create resume")}c.success("Resume created! Starting editor..."),k(`/editor/${t.resume_id}`)}catch(e){c.error("Failed to create resume. Please try again.")}finally{w(!1)}},templateName:E&&(null==(a=s.find(e=>e.id===E))?void 0:a.name)||""})]})};export{f as default};
