const r="/api",p=`${r}/templates`;async function i(){const t=await fetch(p);if(!t.ok)throw new Error("Failed to fetch templates");const e=await t.json();if(!e.success||!e.templates)throw new Error("Invalid API response");return e.templates}async function l(t){const e=await fetch(`${r}/template/${t}`);if(!e.ok)throw new Error("Failed to fetch template");const{yaml:n,supportsIcons:o}=await e.json();return{yaml:n,supportsIcons:o}}async function f(t){var a;const e=await fetch(`${r}/generate`,{method:"POST",body:t});if(!e.ok){const s=await e.json();throw new Error(s.error||"Failed to generate resume")}const n=e.headers.get("content-type"),o=e.headers.get("Content-Disposition");if(n&&n.includes("application/pdf")){const s=await e.blob(),c=((a=o==null?void 0:o.split("filename=")[1])==null?void 0:a.replace(/"/g,""))||"resume.pdf";return{pdfBlob:s,fileName:c}}else{const s=await e.json();throw new Error(s.error||"Unexpected response: Expected a PDF file")}}export{l as a,i as f,f as g};
