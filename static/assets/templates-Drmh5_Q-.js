const a="/api",i=`${a}/templates`;async function p(){const r=await fetch(i);if(!r.ok)throw new Error("Failed to fetch templates");const e=await r.json();if(!e.success||!e.templates)throw new Error("Invalid API response");return e.templates}async function l(r){const e=await fetch(`${a}/template/${r}`);if(!e.ok)throw new Error("Failed to fetch template");const{yaml:n,supportsIcons:o}=await e.json();return{yaml:n,supportsIcons:o}}async function w(r){var s;const e=await fetch(`${a}/generate`,{method:"POST",body:r});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to generate resume")}const n=e.headers.get("content-type"),o=e.headers.get("Content-Disposition");if(n&&n.includes("application/pdf")){const t=await e.blob(),c=((s=o==null?void 0:o.split("filename=")[1])==null?void 0:s.replace(/"/g,""))||"resume.pdf";return{pdfBlob:t,fileName:c}}else{const t=await e.json();throw new Error(t.error||"Unexpected response: Expected a PDF file")}}async function f(r){var s;const e=await fetch(`${a}/preview/img`,{method:"POST",body:r});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to generate preview")}const n=e.headers.get("content-type"),o=e.headers.get("Content-Disposition");if(n&&n.includes("image/png")){const t=await e.blob(),c=((s=o==null?void 0:o.split("filename=")[1])==null?void 0:s.replace(/"/g,""))||"resume_preview.png";return{imageBlob:t,fileName:c}}else{const t=await e.json();throw new Error(t.error||"Unexpected response: Expected a PNG image")}}export{l as a,w as b,p as f,f as g};
